# MelomanButtons
### Подключение
Имя устройства: HC-05

Пароль: 1234
### Команды

Все данные передаются в текстовом виде, с кодировкой UTF-8. Каждая команда состоит из двух символов без разделительного пробела и завершающего символа. Ответы на полученные команды не отправляются. 

Первый символ означает номер кнопки, с которой пришли данные или для которой предназначается команда: ‘0’ – ‘3’. Также в одном случае возможен символ ‘b’ означающий, что сообщение от блютуза.

Второй символ представляет собой прописную латинскую букву, которая описывает непосредственно событие от указанной кнопки или команду для неё.

Символ|Значение|Замечание
------|--------|---------
Входящие
‘p’|Произошло нажатие кнопки|Автоматически ограничивается частота нажатия кнопки, примерно раз в секунду. Возможно дублирование с задержкой для надёжности
‘l’ (эль)|Низкий уровень заряда батарейки|Сообщение приходит непрерывно раз в секунду. Устройство будет продолжать работать, но возможны потери данных. Также может прийти от блютуза. Пример: “bl”
Исходящие
‘r’|Зажечь красный светодиод|Будет гореть пока не примет команду погасить. Если примет другую команду работы со светом – выполнит её, предварительно погаснув
‘g’|Зажечь зелёный светодиод|-- / / --
‘y’|Мигнуть красным светодиодом|Светодиод прогорит 0,2 секунды и погаснет
‘u’|Мигнуть зелёным светодиодом|-- / / --
‘n’|Погасить	
### Дополнения
У главной кнопки две батарейки, одна питает саму кнопку, вторая - блютуз. Разряжаются они независимо. Батарейка от блютуза разряжается быстрее. Можно использовать её потом для питания кнопки.

При ещё более низком уровне заряда у кнопки дополнительно к сообщению будет мигать красный светодиод, если низкий уровень у блютуза, то зелёный.
